@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* Updated color tokens to match the crochet business color palette */
  /* Default cart offset (JS will update this when cart opens) */
  --cart-offset: 0px;
  --background: #ffffff;
  --foreground: #804942;
  --card: #ffc5bf;
  --card-foreground: #804942;
  --popover: #ff94a6;
  --popover-foreground: #ffffff;
  --primary: #e84c78;
  --primary-foreground: #ffffff;
  --secondary: #b80049;
  --secondary-foreground: #ffffff;
  --muted: #ffc5bf;
  --muted-foreground: #804942;
  --accent: #ff94a6;
  --accent-foreground: #804942;
  --destructive: #dc2626;
  --destructive-foreground: #ffffff;
  --border: #e2e8f0;
  --input: #ffffff;
  --ring: #ff94a6;
  --chart-1: #e84c78;
  --chart-2: #ff94a6;
  --chart-3: #ffc5bf;
  --chart-4: #b80049;
  --chart-5: #804942;
  --radius: 0.5rem;
  --sidebar: #ffc5bf;
  --sidebar-foreground: #804942;
  --sidebar-primary: #e84c78;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #ff94a6;
  --sidebar-accent-foreground: #804942;
  --sidebar-border: #e2e8f0;
  --sidebar-ring: #ff94a6;
}

.dark {
  --background: #804942;
  --foreground: #ffffff;
  --card: #b80049;
  --card-foreground: #ffffff;
  --popover: #e84c78;
  --popover-foreground: #ffffff;
  --primary: #ff94a6;
  --primary-foreground: #804942;
  --secondary: #ffc5bf;
  --secondary-foreground: #804942;
  --muted: #b80049;
  --muted-foreground: #ffc5bf;
  --accent: #e84c78;
  --accent-foreground: #ffffff;
  --destructive: #dc2626;
  --destructive-foreground: #ffffff;
  --border: #b80049;
  --input: #b80049;
  --ring: #ff94a6;
  --chart-1: #ff94a6;
  --chart-2: #ffc5bf;
  --chart-3: #e84c78;
  --chart-4: #b80049;
  --chart-5: #804942;
  --sidebar: #804942;
  --sidebar-foreground: #ffffff;
  --sidebar-primary: #ff94a6;
  --sidebar-primary-foreground: #804942;
  --sidebar-accent: #b80049;
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: #b80049;
  --sidebar-ring: #ff94a6;
}

@theme inline {
  /* Updated font variables for new typography */
  --font-sans: var(--font-source-sans);
  --font-serif: var(--font-dm-serif);
  --font-mono: var(--font-geist-mono);
  --font-playfair: var(--font-playfair);
  --font-bree: var(--font-bree-serif);
  --font-mochiy: var(--font-mochiy-pop);
  --font-fredoka: var(--font-fredoka);
  --font-nunito: var(--font-nunito);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  body {
    @apply bg-background text-foreground font-sans;
    /* Prevent layout shifts from scrollbar */
    overflow-y: scroll;
    /* Prevent horizontal gap caused by off-screen fixed elements (cart sidebar) */
    overflow-x: hidden;
  }
  html {
    /* Force scrollbar to always be visible to prevent layout shifts */
    overflow-y: scroll;
    /* Ensure no horizontal overflow from fixed/transformed elements */
    overflow-x: hidden;
  }

  /* When the cart is open we add padding to the main content to make room for the
     cart drawer. We apply it only at the small (sm) breakpoint and above so mobile
     retains the full-width overlay behavior. JS toggles the "cart-open" class on
     <html> and updates --cart-offset. Default --cart-offset is 0px above. */
  .cart-offset-padding {
    transition: padding-right 300ms ease-in-out;
  }

  @media (min-width: 640px) {
    html.cart-open .cart-offset-padding {
      padding-right: var(--cart-offset, 0px);
    }
  }
  /* Ensure headings are consistent for admin pages only (override page-level classes there) */
  .admin-area h1, .admin-area h2, .admin-area h3, .admin-area h4, .admin-area h5, .admin-area h6 {
    font-family: var(--font-serif) !important;
  }
}

/* Custom font utilities */
.font-mochiy {
  font-family: "Mochiy Pop One", cursive;
}

.font-mochiy-p {
  font-family: "Mochiy Pop P One", sans-serif;
}

.font-fredoka {
  font-family: "Fredoka", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  font-variation-settings: "wdth" 100;
}

.font-nunito {
  font-family: "Nunito", sans-serif;
  font-optical-sizing: auto;
  font-weight: 300;
  font-style: normal;
}

/* Override global border for mobile navigation */
.no-border {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Utility to disable hover effects for specific controls (used for the cart Close buttons) */
.no-hover,
.no-hover:hover,
.no-hover:focus {
  background: transparent !important;
  color: inherit !important;
  box-shadow: none !important;
  transform: none !important;
  transition: none !important;
}

/* Underline hover utility: removes background hover but shows underline on hover/focus */
.underline-hover {
  background: transparent !important;
  color: inherit !important;
  box-shadow: none !important;
  transform: none !important;
  /* prepare underline styles */
  text-decoration: underline transparent;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
  transition: color 150ms ease, text-decoration-color 150ms ease;
}
.underline-hover:hover,
.underline-hover:focus {
  text-decoration-color: var(--primary) !important;
  color: var(--primary) !important;
  background: transparent !important;
  box-shadow: none !important;
}

/* Marquee animation for announcement bar */
@keyframes marquee {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-marquee {
  animation: marquee 30s linear infinite;
}

/* --------------------------------------------------------------------------
   Admin-area overrides (migrated from app/admin/admin-error-override.css)
   Keeping these scoped to .admin-area so they only affect admin pages and are
   included via the global CSS bundle to avoid issues with the dev build.
   -------------------------------------------------------------------------- */

/* Admin area theme overrides: force all error/destructive/ring/primary tokens to slate/gray
   so no pink/red appears anywhere in admin pages. Add other admin root selectors if needed. */

.admin-area, .app-admin {
  /* Error / destructive */
  --destructive: #64748b !important; /* slate-500 */
  --destructive-foreground: #f1f5f9 !important; /* slate-100 */
  --ring-destructive: #64748b !important; /* slate-500 */
  --border-destructive: #64748b !important; /* slate-500 */

  /* Focus ring and accents (lilac for admin) */
  --ring: #C4B5FD !important; /* lilac */
  --color-ring: #C4B5FD !important;

  /* Primary / accent tokens (lilac accents for admin) */
  --primary: #334155 !important; /* slate-700 */
  --primary-foreground: #ffffff !important;
  --accent: #C4B5FD !important;

  /* Inputs / borders */
  --border: #e6eef6 !important; /* light slate */
  --input: #ffffff !important;

  /* Sidebar / other ring tokens */
  --sidebar-ring: #64748b !important;
}

/* Explicit overrides for form controls in admin area to beat compiled/global CSS */
.admin-area :is(input, textarea, select, [data-slot="input"], [data-slot="textarea"], .select-trigger, .select-value) {
  border-color: #cbd5e1 !important; /* slate-300 */
  background-color: #ffffff !important;
  color: #0f172a !important; /* slate-900 / black-ish */
}

.admin-area :is(input, textarea, select):focus,
.admin-area :is(input, textarea, select):focus-visible,
.admin-area :is([data-slot="input"],[data-slot="textarea"]):focus,
.admin-area .select-trigger:focus {
  outline: none !important;
  box-shadow: 0 0 0 6px rgba(196,181,253,0.14) !important; /* lilac at 14% */
  border-color: #8b5cf6 !important; /* lilac-500 */
}

/* Invalid / error state overrides */
.admin-area :is(input[aria-invalid="true"], textarea[aria-invalid="true"], select[aria-invalid="true"]) {
  border-color: #8b5cf6 !important; /* lilac-500 */
  box-shadow: 0 0 0 6px rgba(139,92,246,0.12) !important;
}

/* Force select placeholder / value text to black */
.admin-area .select-value,
.admin-area .select-trigger > .select-value,
.admin-area .select-trigger {
  color: #0f172a !important;
}

/* Tighter specificity for third-party compiled classes */
.admin-area .select-trigger[role="button"] .select-value,
.admin-area [data-slot="textarea"][aria-invalid="true"] {
  color: #0f172a !important;
  border-color: #64748b !important;
}

/* Force native form control accents to lilac across admin */
.admin-area input[type="checkbox"],
.admin-area input[type="radio"] {
  accent-color: #8b5cf6 !important; /* lilac */
}

/* Subtle focus ring for buttons in admin */
.admin-area button:focus {
  box-shadow: 0 0 0 6px rgba(139,92,246,0.08) !important;
  outline: none !important;
}

/* Override Radix/Tailwind data-placeholder variant for Select so placeholder text is black */
.admin-area [data-slot="select-trigger"][data-placeholder],
.admin-area [data-slot="select-trigger"] [data-slot="select-value"][data-placeholder],
.admin-area [data-slot="select-trigger"][data-placeholder] > * {
  color: #0f172a !important; /* black */
  opacity: 1 !important;
}

/* Also ensure any placeholder tokens used by Tailwind variant are neutralized */
.admin-area [data-placeholder] {
  color: #0f172a !important;
}

